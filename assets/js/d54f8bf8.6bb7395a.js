"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[2929],{3905:(e,t,n)=>{n.d(t,{Zo:()=>u,kt:()=>m});var r=n(7294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var s=r.createContext({}),d=function(e){var t=r.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},u=function(e){var t=d(e.components);return r.createElement(s.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},c=r.forwardRef((function(e,t){var n=e.components,a=e.mdxType,i=e.originalType,s=e.parentName,u=l(e,["components","mdxType","originalType","parentName"]),c=d(n),m=a,v=c["".concat(s,".").concat(m)]||c[m]||p[m]||i;return n?r.createElement(v,o(o({ref:t},u),{},{components:n})):r.createElement(v,o({ref:t},u))}));function m(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var i=n.length,o=new Array(i);o[0]=c;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l.mdxType="string"==typeof e?e:a,o[1]=l;for(var d=2;d<i;d++)o[d]=n[d];return r.createElement.apply(null,o)}return r.createElement.apply(null,n)}c.displayName="MDXCreateElement"},4959:(e,t,n)=>{n.d(t,{Z:()=>l});var r=n(7294),a=n(9960),i=n(4477),o=n(2263);const l=function(e){var t=e.to,n=e.children,l=(0,i.E)();return(0,o.default)().siteConfig.presets[0][1].docs.disableVersioning?r.createElement(a.default,{to:"/api/"+t},n):r.createElement(a.default,{to:"/api/"+("current"===l.version?"next":l.version)+"/"+t},n)}},7399:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>p,contentTitle:()=>d,default:()=>v,frontMatter:()=>s,metadata:()=>u,toc:()=>c});var r=n(7462),a=n(3366),i=(n(7294),n(3905)),o=n(4959),l=["components"],s={id:"environment-variables",title:"Environment Variables",description:"Using environment variables to configure Crawlee's parameters"},d=void 0,u={unversionedId:"guides/environment-variables",id:"guides/environment-variables",title:"Environment Variables",description:"Using environment variables to configure Crawlee's parameters",source:"@site/../docs/guides/environment_variables.mdx",sourceDirName:"guides",slug:"/guides/environment-variables",permalink:"/docs/guides/environment-variables",draft:!1,tags:[],version:"current",lastUpdatedBy:"Andrey Bykov",lastUpdatedAt:1657805876,formattedLastUpdatedAt:"7/14/2022",frontMatter:{id:"environment-variables",title:"Environment Variables",description:"Using environment variables to configure Crawlee's parameters"},sidebar:"docs",previous:{title:"Result Storage",permalink:"/docs/guides/result-storage"},next:{title:"Proxy Management",permalink:"/docs/guides/proxy-management"}},p={},c=[{value:"Important env vars",id:"important-env-vars",level:2},{value:"<code>CRAWLEE_STORAGE_DIR</code>",id:"crawlee_storage_dir",level:3},{value:"<code>CRAWLEE_DEFAULT_DATASET_ID</code>",id:"crawlee_default_dataset_id",level:3},{value:"<code>CRAWLEE_DEFAULT_KEY_VALUE_STORE_ID</code>",id:"crawlee_default_key_value_store_id",level:3},{value:"<code>CRAWLEE_DEFAULT_REQUEST_QUEUE_ID</code>",id:"crawlee_default_request_queue_id",level:3},{value:"<code>CRAWLEE_PURGE_ON_START</code>",id:"crawlee_purge_on_start",level:3},{value:"Convenience env vars",id:"convenience-env-vars",level:2},{value:"<code>CRAWLEE_HEADLESS</code>",id:"crawlee_headless",level:3},{value:"<code>CRAWLEE_LOG_LEVEL</code>",id:"crawlee_log_level",level:3},{value:"<code>CRAWLEE_VERBOSE_LOG</code>",id:"crawlee_verbose_log",level:3},{value:"<code>CRAWLEE_MEMORY_MBYTES</code>",id:"crawlee_memory_mbytes",level:3}],m={toc:c};function v(e){var t=e.components,n=(0,a.Z)(e,l);return(0,i.kt)("wrapper",(0,r.Z)({},m,n,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("p",null,"The following is a list of the environment variables used by Crawlee that are available to the user.\nCrawlee is capable of running without any env vars present, but certain features will only become available\nafter env vars are properly set."),(0,i.kt)("h2",{id:"important-env-vars"},"Important env vars"),(0,i.kt)("p",null,"The following environment variables have large impact on the way Crawlee works and its behavior\ncan be changed significantly by setting or unsetting them."),(0,i.kt)("h3",{id:"crawlee_storage_dir"},(0,i.kt)("inlineCode",{parentName:"h3"},"CRAWLEE_STORAGE_DIR")),(0,i.kt)("p",null,"Defines the path to a local directory where ",(0,i.kt)(o.Z,{to:"core/class/KeyValueStore",mdxType:"ApiLink"},(0,i.kt)("inlineCode",{parentName:"p"},"KeyValueStore")),", ",(0,i.kt)(o.Z,{to:"core/class/Dataset",mdxType:"ApiLink"},(0,i.kt)("inlineCode",{parentName:"p"},"Dataset")),", and ",(0,i.kt)(o.Z,{to:"core/class/RequestQueue",mdxType:"ApiLink"},(0,i.kt)("inlineCode",{parentName:"p"},"RequestQueue"))," store their data. By default, it is set to ",(0,i.kt)("inlineCode",{parentName:"p"},"./crawlee_storage"),"."),(0,i.kt)("h3",{id:"crawlee_default_dataset_id"},(0,i.kt)("inlineCode",{parentName:"h3"},"CRAWLEE_DEFAULT_DATASET_ID")),(0,i.kt)("p",null,"The default dataset has ID ",(0,i.kt)("inlineCode",{parentName:"p"},"default"),", unless we override it by setting the ",(0,i.kt)("inlineCode",{parentName:"p"},"CRAWLEE_DEFAULT_DATASET_ID")," environment variable."),(0,i.kt)("h3",{id:"crawlee_default_key_value_store_id"},(0,i.kt)("inlineCode",{parentName:"h3"},"CRAWLEE_DEFAULT_KEY_VALUE_STORE_ID")),(0,i.kt)("p",null,"The default key-value store has ID ",(0,i.kt)("inlineCode",{parentName:"p"},"default"),", unless we override it by setting the ",(0,i.kt)("inlineCode",{parentName:"p"},"CRAWLEE_DEFAULT_KEY_VALUE_STORE_ID")," environment variable."),(0,i.kt)("h3",{id:"crawlee_default_request_queue_id"},(0,i.kt)("inlineCode",{parentName:"h3"},"CRAWLEE_DEFAULT_REQUEST_QUEUE_ID")),(0,i.kt)("p",null,"The default request queue has ID ",(0,i.kt)("inlineCode",{parentName:"p"},"default"),", unless we override it by setting the ",(0,i.kt)("inlineCode",{parentName:"p"},"CRAWLEE_DEFAULT_REQUEST_QUEUE_ID")," environment variable."),(0,i.kt)("h3",{id:"crawlee_purge_on_start"},(0,i.kt)("inlineCode",{parentName:"h3"},"CRAWLEE_PURGE_ON_START")),(0,i.kt)("p",null,"If set to ",(0,i.kt)("inlineCode",{parentName:"p"},"false")," - local storage directories would not be purged automatically at the start of the crawler run or before opening of some storage explicitly (e.g. via ",(0,i.kt)("inlineCode",{parentName:"p"},"Dataset.open()"),"). Useful if we're trying e.g. to add more items to dataset with each next run (and keep the previously saved/scraped items). Enabled by default."),(0,i.kt)("h2",{id:"convenience-env-vars"},"Convenience env vars"),(0,i.kt)("p",null,"The next group includes env vars that can help achieve certain goals without having to change\nour code, such as temporarily switching log level to DEBUG or enabling verbose logging for errors."),(0,i.kt)("h3",{id:"crawlee_headless"},(0,i.kt)("inlineCode",{parentName:"h3"},"CRAWLEE_HEADLESS")),(0,i.kt)("p",null,"If set to ",(0,i.kt)("inlineCode",{parentName:"p"},"1"),", web browsers launched by Crawlee will run in the headless mode. We can still override\nthis setting in the code, e.g. by passing the ",(0,i.kt)("inlineCode",{parentName:"p"},"headless: true")," option to the ",(0,i.kt)(o.Z,{to:"puppeteer-crawler/function/launchPuppeteer",mdxType:"ApiLink"},(0,i.kt)("inlineCode",{parentName:"p"},"launchPuppeteer()"))," function. By default, the browsers\nare launched in headful mode, i.e. with windows."),(0,i.kt)("h3",{id:"crawlee_log_level"},(0,i.kt)("inlineCode",{parentName:"h3"},"CRAWLEE_LOG_LEVEL")),(0,i.kt)("p",null,"Specifies the minimum log level, which can be one of the following values (in order of severity):\n",(0,i.kt)("inlineCode",{parentName:"p"},"DEBUG"),", ",(0,i.kt)("inlineCode",{parentName:"p"},"INFO"),", ",(0,i.kt)("inlineCode",{parentName:"p"},"WARNING")," and ",(0,i.kt)("inlineCode",{parentName:"p"},"ERROR"),". By default, the log level is set to ",(0,i.kt)("inlineCode",{parentName:"p"},"INFO"),",\nwhich means that ",(0,i.kt)("inlineCode",{parentName:"p"},"DEBUG")," messages are not printed to console. See the ",(0,i.kt)(o.Z,{to:"core/class/Log",mdxType:"ApiLink"},(0,i.kt)("inlineCode",{parentName:"p"},"utils.log")),"\nnamespace for logging utilities."),(0,i.kt)("h3",{id:"crawlee_verbose_log"},(0,i.kt)("inlineCode",{parentName:"h3"},"CRAWLEE_VERBOSE_LOG")),(0,i.kt)("p",null,"Enables verbose logging if set to ",(0,i.kt)("inlineCode",{parentName:"p"},"true"),". If not explicitly set to ",(0,i.kt)("inlineCode",{parentName:"p"},"true")," - for errors thrown from inside request handler a warning with only error message will be logged as long as we know the request will be retried. Same applies to some known errors (such as timeout errors). Disabled by default."),(0,i.kt)("h3",{id:"crawlee_memory_mbytes"},(0,i.kt)("inlineCode",{parentName:"h3"},"CRAWLEE_MEMORY_MBYTES")),(0,i.kt)("p",null,"Sets the amount of system memory in megabytes to be used by the ",(0,i.kt)(o.Z,{to:"core/class/AutoscaledPool",mdxType:"ApiLink"},(0,i.kt)("inlineCode",{parentName:"p"},"AutoscaledPool")),".\nIt is used to limit the number of concurrently running tasks. By default, the max amount of memory\nto be used is set to one quarter of total system memory, i.e. on a system with 8192 MB of memory,\nthe autoscaling feature will only use up to 2048 MB of memory."))}v.isMDXComponent=!0}}]);